{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaill\\\\OneDrive\\\\Documents\\\\ING 4\\\\Techno Web\\\\Projet\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\Components\\\\Wid4.js\";\nimport React, { Component } from 'react';\nimport Plot from 'react-plotly.js';\nimport './Widget.css';\n\nclass Wid4 extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      XValues: [],\n      YValues: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetch();\n  }\n\n  fetch() {\n    const pointerToThis = this;\n    console.log(pointerToThis);\n    let XValuesFunction = [];\n    let YValuesFunction = [];\n    console.log(this.props.url);\n    fetch(this.props.url).then(response => response.json()).then(data => {\n      //console.log(data);\n      for (var key in data['Time Series (Daily)']) {\n        if (key > \"2021-11-01\") {\n          XValuesFunction.push(key);\n          YValuesFunction.push(data['Time Series (Daily)'][key]['1. open']);\n          console.log(key);\n        }\n      } // console.log(stockChartXValuesFunction);\n\n\n      pointerToThis.setState({\n        XValues: XValuesFunction,\n        YValues: YValuesFunction\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    console.log(\"The component just updated\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Widget\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"Stock Market\"), React.createElement(Plot, {\n      data: [{\n        x: this.state.XValues,\n        y: this.state.YValues,\n        type: 'scatter',\n        mode: 'lines+markers',\n        marker: {\n          color: 'red'\n        }\n      }],\n      layout: {\n        width: 400,\n        height: 220\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Wid4;","map":{"version":3,"sources":["C:/Users/gaill/OneDrive/Documents/ING 4/Techno Web/Projet/PROJECT_WEB_OCRES/frontend/src/Components/Wid4.js"],"names":["React","Component","Plot","Wid4","state","XValues","YValues","componentDidMount","fetch","pointerToThis","console","log","XValuesFunction","YValuesFunction","props","url","then","response","json","data","key","push","setState","componentDidUpdate","render","x","y","type","mode","marker","color","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAO,cAAP;;AAEA,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACvBG,KADuB,GACf;AACNC,MAAAA,OAAO,EAAE,EADH;AAENC,MAAAA,OAAO,EAAE;AAFH,KADe;AAAA;;AAMzBC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,KAAL;AACD;;AAEDA,EAAAA,KAAK,GAAG;AACN,UAAMC,aAAa,GAAG,IAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,aAAZ;AACA,QAAIG,eAAe,GAAG,EAAtB;AACA,QAAIC,eAAe,GAAG,EAAtB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKG,KAAL,CAAWC,GAAvB;AAGAP,IAAAA,KAAK,CAAC,KAAKM,KAAL,CAAWC,GAAZ,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACV;AACA,WAAK,IAAIC,GAAT,IAAgBD,IAAI,CAAC,qBAAD,CAApB,EAA6C;AAC3C,YAAGC,GAAG,GAAG,YAAT,EAAsB;AACpBR,UAAAA,eAAe,CAACS,IAAhB,CAAqBD,GAArB;AACAP,UAAAA,eAAe,CAACQ,IAAhB,CAAqBF,IAAI,CAAC,qBAAD,CAAJ,CAA4BC,GAA5B,EAAiC,SAAjC,CAArB;AACAV,UAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACD;AACF,OARS,CAUV;;;AACAX,MAAAA,aAAa,CAACa,QAAd,CAAuB;AACrBjB,QAAAA,OAAO,EAAEO,eADY;AAErBN,QAAAA,OAAO,EAAEO;AAFY,OAAvB;AAID,KAjBL;AAmBD;;AAEHU,EAAAA,kBAAkB,GAAG;AACnBb,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD;;AAEDa,EAAAA,MAAM,GAAG;AACT,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,IAAD;AACA,MAAA,IAAI,EAAE,CACF;AACAC,QAAAA,CAAC,EAAE,KAAKrB,KAAL,CAAWC,OADd;AAEAqB,QAAAA,CAAC,EAAE,KAAKtB,KAAL,CAAWE,OAFd;AAGAqB,QAAAA,IAAI,EAAE,SAHN;AAIAC,QAAAA,IAAI,EAAE,eAJN;AAKAC,QAAAA,MAAM,EAAE;AAACC,UAAAA,KAAK,EAAE;AAAR;AALR,OADE,CADN;AAUA,MAAA,MAAM,EAAE;AAACC,QAAAA,KAAK,EAAE,GAAR;AAAaC,QAAAA,MAAM,EAAE;AAArB,OAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ;AAmBC;;AA/DwB;;AAkE7B,eAAe7B,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport './Widget.css';\r\n\r\nclass Wid4 extends Component {\r\n      state = {\r\n        XValues: [],\r\n        YValues: []\r\n        }\r\n\r\n    componentDidMount() {\r\n        this.fetch();\r\n      }\r\n    \r\n      fetch() {\r\n        const pointerToThis = this;\r\n        console.log(pointerToThis);\r\n        let XValuesFunction = [];\r\n        let YValuesFunction = [];\r\n        console.log(this.props.url)\r\n\r\n    \r\n        fetch(this.props.url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n              //console.log(data);\r\n              for (var key in data['Time Series (Daily)']) {\r\n                if(key > \"2021-11-01\"){\r\n                  XValuesFunction.push(key);\r\n                  YValuesFunction.push(data['Time Series (Daily)'][key]['1. open']);\r\n                  console.log(key);\r\n                }\r\n              }\r\n    \r\n              // console.log(stockChartXValuesFunction);\r\n              pointerToThis.setState({\r\n                XValues: XValuesFunction,\r\n                YValues: YValuesFunction\r\n              });\r\n            }\r\n          )\r\n      }\r\n\r\n    componentDidUpdate() {\r\n      console.log(\"The component just updated\")\r\n    }\r\n\r\n    render() {\r\n    return (\r\n        <div className=\"Widget\">\r\n            <div>\r\n                <h1>Stock Market</h1>\r\n                <Plot\r\n                data={[\r\n                    {\r\n                    x: this.state.XValues,\r\n                    y: this.state.YValues,\r\n                    type: 'scatter',\r\n                    mode: 'lines+markers',\r\n                    marker: {color: 'red'},\r\n                    }\r\n                ]}\r\n                layout={{width: 400, height: 220}}\r\n                />\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Wid4;"]},"metadata":{},"sourceType":"module"}