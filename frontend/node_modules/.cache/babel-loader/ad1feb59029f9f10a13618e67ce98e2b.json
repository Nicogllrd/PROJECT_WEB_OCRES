{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gaill\\\\OneDrive\\\\Documents\\\\ING 4\\\\Techno Web\\\\Projet\\\\PROJECT_WEB_OCRES\\\\frontend\\\\src\\\\Components\\\\Wid4.js\";\nimport React, { Component } from 'react';\nimport Plot from 'react-plotly.js';\nimport './Widget.css';\n\nclass Wid4 extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stockChartXValues: [],\n      stockChartYValues: []\n    };\n  }\n\n  componentDidMount() {\n    this.fetchStock();\n  }\n\n  fetchStock() {\n    const pointerToThis = this;\n    console.log(pointerToThis);\n    let stockChartXValuesFunction = [];\n    let stockChartYValuesFunction = [];\n    fetch(this.props.url).then(response => response.json()).then(data => {\n      //console.log(data);\n      for (var key in data['Time Series (Daily)']) {\n        stockChartXValuesFunction.push(key);\n        stockChartYValuesFunction.push(data['Time Series (Daily)'][key]['1. open']);\n      } // console.log(stockChartXValuesFunction);\n\n\n      pointerToThis.setState({\n        stockChartXValues: stockChartXValuesFunction,\n        stockChartYValues: stockChartYValuesFunction\n      });\n    });\n  }\n\n  componentDidUpdate() {\n    console.log(\"The component just updated\");\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"Widget\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Stock Market\"), React.createElement(Plot, {\n      data: [{\n        x: this.state.stockChartXValues,\n        y: this.state.stockChartYValues,\n        type: 'scatter',\n        mode: 'lines+markers',\n        marker: {\n          color: 'red'\n        }\n      }],\n      layout: {\n        width: 400,\n        height: 440,\n        title: 'A Fancy Plot'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Wid4;","map":{"version":3,"sources":["C:/Users/gaill/OneDrive/Documents/ING 4/Techno Web/Projet/PROJECT_WEB_OCRES/frontend/src/Components/Wid4.js"],"names":["React","Component","Plot","Wid4","state","stockChartXValues","stockChartYValues","componentDidMount","fetchStock","pointerToThis","console","log","stockChartXValuesFunction","stockChartYValuesFunction","fetch","props","url","then","response","json","data","key","push","setState","componentDidUpdate","render","x","y","type","mode","marker","color","width","height","title"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAO,cAAP;;AAEA,MAAMC,IAAN,SAAmBF,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACvBG,KADuB,GACf;AACNC,MAAAA,iBAAiB,EAAE,EADb;AAENC,MAAAA,iBAAiB,EAAE;AAFb,KADe;AAAA;;AAMzBC,EAAAA,iBAAiB,GAAG;AAChB,SAAKC,UAAL;AACD;;AAEDA,EAAAA,UAAU,GAAG;AACX,UAAMC,aAAa,GAAG,IAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,aAAZ;AACA,QAAIG,yBAAyB,GAAG,EAAhC;AACA,QAAIC,yBAAyB,GAAG,EAAhC;AAEAC,IAAAA,KAAK,CAAC,KAAKC,KAAL,CAAWC,GAAZ,CAAL,CACGC,IADH,CACQC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADpB,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACV;AACA,WAAK,IAAIC,GAAT,IAAgBD,IAAI,CAAC,qBAAD,CAApB,EAA6C;AAC3CR,QAAAA,yBAAyB,CAACU,IAA1B,CAA+BD,GAA/B;AACAR,QAAAA,yBAAyB,CAACS,IAA1B,CAA+BF,IAAI,CAAC,qBAAD,CAAJ,CAA4BC,GAA5B,EAAiC,SAAjC,CAA/B;AACD,OALS,CAOV;;;AACAZ,MAAAA,aAAa,CAACc,QAAd,CAAuB;AACrBlB,QAAAA,iBAAiB,EAAEO,yBADE;AAErBN,QAAAA,iBAAiB,EAAEO;AAFE,OAAvB;AAID,KAdL;AAgBD;;AAEHW,EAAAA,kBAAkB,GAAG;AACnBd,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD;;AAEDc,EAAAA,MAAM,GAAG;AACT,WACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI,oBAAC,IAAD;AACA,MAAA,IAAI,EAAE,CACF;AACAC,QAAAA,CAAC,EAAE,KAAKtB,KAAL,CAAWC,iBADd;AAEAsB,QAAAA,CAAC,EAAE,KAAKvB,KAAL,CAAWE,iBAFd;AAGAsB,QAAAA,IAAI,EAAE,SAHN;AAIAC,QAAAA,IAAI,EAAE,eAJN;AAKAC,QAAAA,MAAM,EAAE;AAACC,UAAAA,KAAK,EAAE;AAAR;AALR,OADE,CADN;AAUA,MAAA,MAAM,EAAE;AAACC,QAAAA,KAAK,EAAE,GAAR;AAAaC,QAAAA,MAAM,EAAE,GAArB;AAA0BC,QAAAA,KAAK,EAAE;AAAjC,OAVR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADJ;AAmBC;;AA1DwB;;AA6D7B,eAAe/B,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport './Widget.css';\r\n\r\nclass Wid4 extends Component {\r\n      state = {\r\n        stockChartXValues: [],\r\n        stockChartYValues: []\r\n        }\r\n\r\n    componentDidMount() {\r\n        this.fetchStock();\r\n      }\r\n    \r\n      fetchStock() {\r\n        const pointerToThis = this;\r\n        console.log(pointerToThis);\r\n        let stockChartXValuesFunction = [];\r\n        let stockChartYValuesFunction = [];\r\n    \r\n        fetch(this.props.url)\r\n          .then(response => response.json())\r\n          .then(data => {\r\n              //console.log(data);\r\n              for (var key in data['Time Series (Daily)']) {\r\n                stockChartXValuesFunction.push(key);\r\n                stockChartYValuesFunction.push(data['Time Series (Daily)'][key]['1. open']);\r\n              }\r\n    \r\n              // console.log(stockChartXValuesFunction);\r\n              pointerToThis.setState({\r\n                stockChartXValues: stockChartXValuesFunction,\r\n                stockChartYValues: stockChartYValuesFunction\r\n              });\r\n            }\r\n          )\r\n      }\r\n\r\n    componentDidUpdate() {\r\n      console.log(\"The component just updated\")\r\n    }\r\n\r\n    render() {\r\n    return (\r\n        <div className=\"Widget\">\r\n            <div>\r\n                <h1>Stock Market</h1>\r\n                <Plot\r\n                data={[\r\n                    {\r\n                    x: this.state.stockChartXValues,\r\n                    y: this.state.stockChartYValues,\r\n                    type: 'scatter',\r\n                    mode: 'lines+markers',\r\n                    marker: {color: 'red'},\r\n                    }\r\n                ]}\r\n                layout={{width: 400, height: 440, title: 'A Fancy Plot'}}\r\n                />\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Wid4;"]},"metadata":{},"sourceType":"module"}